
<!doctype html>
<html lang="pt" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.2.1">
    
    
      
        <title>Gerenciamento de Dados - Univesp por Estudantes</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.e8d9bf0c.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="yellow">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#gerenciamento-de-dados" class="md-skip">
          Pular para conteúdo
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabeçalho">
    <a href="../.." title="Univesp por Estudantes" class="md-header__button md-logo" aria-label="Univesp por Estudantes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Univesp por Estudantes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Gerenciamento de Dados
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="yellow"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="red" data-md-color-accent="red"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Buscar" placeholder="Buscar" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Pesquisar">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Limpar" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando busca
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://univesp-computacao.github.io/o_mundo_dos_conteineres/" title="Ir para repositório" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Univesp-Computacao/o_mundo_dos_conteineres
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Abas" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Inicio
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../instala%C3%A7%C3%A3o/" class="md-tabs__link md-tabs__link--active">
        Docker
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navegação" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Univesp por Estudantes" class="md-nav__button md-logo" aria-label="Univesp por Estudantes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Univesp por Estudantes
  </label>
  
    <div class="md-nav__source">
      <a href="https://univesp-computacao.github.io/o_mundo_dos_conteineres/" title="Ir para repositório" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Univesp-Computacao/o_mundo_dos_conteineres
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Inicio
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2">
          Docker
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Docker" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Docker
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../instala%C3%A7%C3%A3o/" class="md-nav__link">
        Instalação
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../docker_hub/" class="md-nav__link">
        Docker Hub
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../fluxo_containers/" class="md-nav__link">
        Fluxo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../imagem/" class="md-nav__link">
        Imagem
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Gerenciamento de Dados
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Gerenciamento de Dados
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Indice">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Indice
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#persistencia-de-dados" class="md-nav__link">
    Persistência de dados
  </a>
  
    <nav class="md-nav" aria-label="Persistência de dados">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bind-mounts" class="md-nav__link">
    Bind Mounts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#volumes" class="md-nav__link">
    Volumes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tmpfs-mounts" class="md-nav__link">
    tmpfs mounts
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../redes/" class="md-nav__link">
        Rede
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../compose/" class="md-nav__link">
        Docker Compose
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Indice">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Indice
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#persistencia-de-dados" class="md-nav__link">
    Persistência de dados
  </a>
  
    <nav class="md-nav" aria-label="Persistência de dados">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bind-mounts" class="md-nav__link">
    Bind Mounts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#volumes" class="md-nav__link">
    Volumes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tmpfs-mounts" class="md-nav__link">
    tmpfs mounts
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="gerenciamento-de-dados">Gerenciamento de Dados<a class="headerlink" href="#gerenciamento-de-dados" title="Permanent link">&para;</a></h1>
<p>As referências ao espaço em disco em imagens e contêineres do Docker podem ser confusas. É importante distinguir entre armazenamento local e armazenamento virtual. Armazenamento local refere-se ao espaço em disco que a camada gravável de um contêiner usa, enquanto o armazenamento virtual é o espaço em disco usado para o contêiner e a camada gravável. A camada somente leitura de uma imagem podem ser compartilhadas entre qualquer contêiner iniciado a partir da mesma imagem.</p>
<p>Que tal verificar essa informação? Antes de continuamos, vou limpar minhas imagens e meus contêineres que estão armazenados, como pode ver:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Imagens</label><label for="__tabbed_1_2">Contêineres</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>REPOSITORY                       TAG                IMAGE ID       CREATED        SIZE
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>sposigor/app-flask-teste         <span class="m">1</span>                  c704ddb7c517   <span class="m">2</span> hours ago    <span class="m">60</span>.3MB
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>univesp-github/app-flask-teste   <span class="m">1</span>                  c704ddb7c517   <span class="m">2</span> hours ago    <span class="m">60</span>.3MB
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>python                           <span class="m">3</span>.10-alpine        a0e2910f7263   <span class="m">4</span> days ago     <span class="m">48</span>.6MB
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>python                           <span class="m">3</span>.10-slim-buster   41471b406cc5   <span class="m">4</span> days ago     115MB
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>python                           <span class="m">3</span>.10               e4bdbb3cacf1   <span class="m">4</span> days ago     917MB
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>ubuntu                           latest             54c9d81cbb44   <span class="m">4</span> weeks ago    <span class="m">72</span>.8MB
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>postgres                         latest             da2cb49d7a8d   <span class="m">4</span> weeks ago    374MB
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>dpage/pgadmin4                   latest             e52ca07eba62   <span class="m">7</span> weeks ago    272MB
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>hello-world                      latest             feb5d9fea6a5   <span class="m">5</span> months ago   <span class="m">13</span>.3kB
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>dockersamples/static-site        latest             f589ccde7957   <span class="m">5</span> years ago    190MB
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>CONTAINER ID   IMAGE                              COMMAND                  CREATED        STATUS                    PORTS     NAMES
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>46cab0670fc8   univesp-github/app-flask-teste:1   <span class="s2">&quot;python app.py&quot;</span>          <span class="m">2</span> hours ago    Exited <span class="o">(</span><span class="m">0</span><span class="o">)</span> <span class="m">2</span> hours ago              elegant_brown
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>b50c4ac105c3   f32698e186b5                       <span class="s2">&quot;python app.py&quot;</span>          <span class="m">2</span> hours ago    Exited <span class="o">(</span><span class="m">0</span><span class="o">)</span> <span class="m">2</span> hours ago              boring_knuth
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>40ea6243bbc3   64160aa2a8dc                       <span class="s2">&quot;python app.py&quot;</span>          <span class="m">2</span> hours ago    Exited <span class="o">(</span><span class="m">0</span><span class="o">)</span> <span class="m">2</span> hours ago              unruffled_roentgen
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>7ef49050e8df   1647b4c47b68                       <span class="s2">&quot;python app.py&quot;</span>          <span class="m">2</span> hours ago    Exited <span class="o">(</span><span class="m">0</span><span class="o">)</span> <span class="m">2</span> hours ago              nostalgic_dirac
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>19bf7322160d   ubuntu                             <span class="s2">&quot;sleep 5m&quot;</span>               <span class="m">20</span> hours ago   Exited <span class="o">(</span><span class="m">0</span><span class="o">)</span> <span class="m">19</span> hours ago             wizardly_shtern
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>bb1bf42f3fc3   ubuntu                             <span class="s2">&quot;sleep 2m&quot;</span>               <span class="m">20</span> hours ago   Exited <span class="o">(</span><span class="m">0</span><span class="o">)</span> <span class="m">20</span> hours ago             frosty_ishizaka
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>65adb2cb2cd5   ubuntu                             <span class="s2">&quot;bash&quot;</span>                   <span class="m">20</span> hours ago   Exited <span class="o">(</span><span class="m">0</span><span class="o">)</span> <span class="m">20</span> hours ago             competent_thompson
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>f690741c0bc7   ubuntu                             <span class="s2">&quot;bash&quot;</span>                   <span class="m">20</span> hours ago   Exited <span class="o">(</span><span class="m">0</span><span class="o">)</span> <span class="m">20</span> hours ago             infallible_williams
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>6914d474838d   hello-world                        <span class="s2">&quot;/hello&quot;</span>                 <span class="m">23</span> hours ago   Exited <span class="o">(</span><span class="m">0</span><span class="o">)</span> <span class="m">20</span> hours ago             upbeat_lichterman
</code></pre></div>
</div>
</div>
</div>
<p>Vou usar um comando um pouco diferente o <a href="https://docs.docker.com/engine/reference/commandline/system_prune/" target="_blank">docker system prune</a></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>docker system prune -af
</code></pre></div>
<p>Ele remove todas as imagens, contêineres, volumes e o que mais tiver armazenado no docker, passei o parâmetro -a de all e -f de force. Vou lista mais alguns comandos de remoção que podem ser uteis:</p>
<ul>
<li><a href="https://docs.docker.com/engine/reference/commandline/container_rm/" target="_blank">docker container rm</a>: Remove somente com o CONTAINER ID.</li>
<li><a href="https://docs.docker.com/engine/reference/commandline/container_prune/" target="_blank">docker container prune</a>: Remove todos os containeres</li>
<li><a href="https://docs.docker.com/engine/reference/commandline/image_rm/" target="_blank">docker image rm</a>: Remove somente a imagem com o IMAGE ID</li>
<li><a href="https://docs.docker.com/engine/reference/commandline/image_prune/" target="_blank">docker image prune</a>: Remove todas as imagens</li>
<li><a href="https://docs.docker.com/engine/reference/commandline/volume_rm/" target="_blank">docker volume rm</a>: Remove o volume com o VOLUME NAME</li>
<li><a href="https://docs.docker.com/engine/reference/commandline/volume_prune/" target="_blank">docker volume prune</a>: Remove todos os volumes</li>
<li><a href="https://docs.docker.com/engine/reference/commandline/network_rm/" target="_blank">docker network rm</a>: Remove o network com o NETWORK ID</li>
<li><a href="https://docs.docker.com/engine/reference/commandline/network_prune/" target="_blank">docker network prune</a>: Remove todos os network</li>
</ul>
<hr />
<p>Para começar a entender melhor o volume, armazenamento local e armazenamento virtual, recorremos ao nosso querido ubuntu, dessa vez, vamos chamar ele duas vezes:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Primeira</label><label for="__tabbed_2_2">Segunda</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>docker run -it ubuntu bash
</code></pre></div>
<ul>
<li>Assim que subir o bash execute o <strong>apt-get update</strong></li>
<li>Escreva exit para finalizar</li>
</ul>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>docker run -it ubuntu bash
</code></pre></div>
<ul>
<li>Nesse caso apenas e escreva exit para finalizar</li>
</ul>
</div>
</div>
</div>
<p>Com o comando <strong>docker ps -as</strong> a saída:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>CONTAINER ID   IMAGE     COMMAND   CREATED          STATUS                            PORTS     NAMES            SIZE
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>a4928a7ff9a6   ubuntu    <span class="s2">&quot;bash&quot;</span>    <span class="m">47</span> seconds ago   Exited <span class="o">(</span><span class="m">0</span><span class="o">)</span> <span class="m">44</span> seconds ago                   funny_thompson   5B <span class="o">(</span>virtual <span class="m">72</span>.8MB<span class="o">)</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>0516c2a0ac00   ubuntu    <span class="s2">&quot;bash&quot;</span>    <span class="m">4</span> minutes ago    Exited <span class="o">(</span><span class="m">130</span><span class="o">)</span> About a minute ago             fervent_turing   34MB <span class="o">(</span>virtual 107MB<span class="o">)</span>
</code></pre></div>
<p>Temos uma nova coluna que é a <strong>SIZE</strong> e ela possui duas informações o armazenamento local e armazenamento virtual, usando o ubuntu como exemplo, em um apenas subimos a imagem sendo o primeiro na lista e o segundo fizemos o apt-get update.</p>
<ul>
<li><strong>Armazenamento Local</strong>: É a camada da qual temos acesso a gravar.</li>
<li><strong>Armazenamento Virtual</strong>: É o tamanho da imagem sem qualquer gravação.</li>
</ul>
<p>Quando fazemos gravações, esses dados reflete tanto no armazenamento local quanto no armazenamento virtual.</p>
<p><img alt="Ilustração Docker" loading="lazy" src="https://i.postimg.cc/hPYjHztJ/ilustracao.png" /></p>
<hr />
<h2 id="persistencia-de-dados">Persistência de dados<a class="headerlink" href="#persistencia-de-dados" title="Permanent link">&para;</a></h2>
<p>Podemos querer que os dados da nossa aplicação sejam persistentes, porque assim garantimos que ela esteja distribuída e disponível se precisarmos consultá-la. Porém, se escrevermos os dados nos contêineres, por padrão eles não ficarão armazenados nesta camada, criada para ser descartável. Existem três possibilidades para contornar esta situação com o Docker.</p>
<p><img alt="Persistencia dos dados" loading="lazy" src="https://docs.docker.com/storage/images/types-of-mounts-volume.png" /></p>
<hr />
<h3 id="bind-mounts">Bind Mounts<a class="headerlink" href="#bind-mounts" title="Permanent link">&para;</a></h3>
<p>Os bind mounts estão disponíveis no Docker desde seus primeiros dias para a persistência de dados. Os bind mounts montarão um arquivo ou diretório em seu contêiner a partir de sua máquina host, que você pode referenciar através de seu caminho absoluto.</p>
<p>Para usar o bind mounts, o arquivo ou diretório não precisa já existir em seu host do Docker. Se não existir, será criado sob demanda. As montagens de ligação dependem do sistema de arquivos da máquina host ter uma estrutura de diretório específica disponível. Você deve criar explicitamente um caminho para o arquivo ou pasta para colocar o armazenamento.</p>
<p>Outra informação importante sobre bind mounts é que elas dão acesso a arquivos confidenciais. Conforme os documentos do Docker, você pode alterar o sistema de arquivos do host através de processos executados em um contêiner. Isso inclui criar, modificar e excluir arquivos e diretórios do sistema, que podem ter implicações de segurança bastante graves. Pode até impactar processos não-Docker.</p>
<p>Para começar a usar o bind mounts, precisamos criar uma pasta na nossa maquina, vou cria na área de trabalho e nomeá-la de bind. Copie a localização que vamos usar.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">-v</label><label for="__tabbed_3_2">--mount</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>docker run -v /home/sposigor/bind:/teste -it ubuntu bash
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>docker run -it --mount <span class="nv">type</span><span class="o">=</span>bind,src<span class="o">=</span>/home/sposigor/bind,dst<span class="o">=</span>/teste ubuntu bash
</code></pre></div>
</div>
</div>
</div>
<p>A docker recomenda usar <strong>--mount</strong> e não o <strong>-v</strong></p>
<p>Se tiver dúvidas, na documentação do <a href="https://docs.docker.com/engine/reference/commandline/run/" target="_blank">docker run</a> tem mais informações.</p>
<p>Para realizar o teste:</p>
<ol>
<li>Faça o docker run, seja em -v ou --mount.</li>
<li>No bash do contêiner, de um <strong>ls</strong></li>
<li>Veja a pasta <strong>teste</strong> criada e vamos entrar nela com o <strong>cd teste/</strong></li>
<li>Na pasta <strong>touch teste1.txt</strong> e escreva exit para sair</li>
<li>Vá na sua pasta que você criou na máquina local e abra ela e o arquivo <strong>teste1.txt</strong> vai está lá.</li>
<li>Repita o processo de 1 á 3, com um novo contêiner e o arquivo criado no contêiner anterior persiste lá.</li>
</ol>
<p><img alt="Teste bind mount" loading="lazy" src="https://i.postimg.cc/mgkPxrKD/bind-mount-teste.png" /></p>
<hr />
<h3 id="volumes">Volumes<a class="headerlink" href="#volumes" title="Permanent link">&para;</a></h3>
<p>Os volumes são um ótimo mecanismo para adicionar uma camada de persistência de dados em seus contêineres do Docker, especialmente para uma situação em que você precisa persistir dados após desligar seus contêineres.</p>
<p>Volumes, portanto é a solução mais recomendada pelo docker para usar em ambientes de produção e afins.</p>
<p>O <a href="https://docs.docker.com/engine/reference/commandline/volume_ls/" target="_blank">docker volume ls</a> observa os volumes disponíveis:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>DRIVER    VOLUME NAME
</code></pre></div>
<ul>
<li><strong>DRIVER</strong>: É o volume do drive</li>
<li><strong>VOLUME NAME</strong>: É o nome do volume</li>
</ul>
<p>Criar um volume novo <a href="https://docs.docker.com/engine/reference/commandline/volume_create/" target="_blank">docker volume create</a> e o nome do volume</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>docker volume create testando
</code></pre></div>
<p>Vamos colocar em produção:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">-v</label><label for="__tabbed_4_2">--mount</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>docker run -v testando:/teste -it ubuntu bash
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>docker run -t -i --mount <span class="nv">type</span><span class="o">=</span>bind,src<span class="o">=</span>testando,dst<span class="o">=</span>/teste ubuntu bash
</code></pre></div>
</div>
</div>
</div>
<ol>
<li>Faça o docker run, seja em -v ou --mount.</li>
<li>No bash do container, de um <strong>ls</strong></li>
<li>Veja a pasta <strong>teste</strong> que foi criada e vamos entrar nela com o <strong>cd teste/</strong></li>
<li>Dentro da pasta <strong>touch teste1.txt</strong> e escreva exit para sair</li>
<li>Repita o processo de 1 á 3, com um novo container e o arquivo criado no container anterios persiste lá.</li>
</ol>
<p>Deve ter surgido uma duvida, aonde está esse arquivo que criei?</p>
<p>Para isso vamos para o terminal:</p>
<ol>
<li>No terminal <strong>sudo su</strong></li>
<li><strong>cd /var/lib/docker/volumes</strong></li>
<li><strong>ls</strong> para verificar os arquivos</li>
<li>O volume criado vai está aqui, <strong>cd testando</strong></li>
<li><strong>ls</strong> vai ter uma pasta <strong>_data</strong></li>
<li><strong>cd _data</strong> e em seguida <strong>ls</strong></li>
<li>Encontrou o arquivo que foi criado</li>
</ol>
<p>Os volumes do Docker são completamente manipulados pelo próprio Docker e, portanto, independentes da estrutura de diretórios e do sistema operacional da máquina host. Quando você usa um volume, um novo diretório é criado no diretório de armazenamento do Docker na máquina host e o Docker gerencia o conteúdo desse diretório.</p>
<p>Por ultimo podemos passar diretamente do <a href="https://docs.docker.com/engine/reference/commandline/run/" target="_blank">docker run</a> o volume que ele se encarrega de criar</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">-v</label><label for="__tabbed_5_2">--mount</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>docker run -v volume_novo:/teste -it ubuntu bash
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>docker run -t -i --mount <span class="nv">type</span><span class="o">=</span>bind,src<span class="o">=</span>volume_novo,dst<span class="o">=</span>/teste ubuntu bash
</code></pre></div>
</div>
</div>
</div>
<p><a href="https://docs.docker.com/engine/reference/commandline/volume_ls/" target="_blank">docker volume ls</a> e a saída:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>DRIVER    VOLUME NAME
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="nb">local</span>     testando
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="nb">local</span>     volume_novo
</code></pre></div>
<hr />
<h3 id="tmpfs-mounts">tmpfs mounts<a class="headerlink" href="#tmpfs-mounts" title="Permanent link">&para;</a></h3>
<p>O <a href="https://docs.docker.com/storage/tmpfs/" target="_blank">tmpfs mounts</a> é para espaços de armazenamento pequenos e efêmeros que só podem ser usados ​​por um único contêiner, existe o sistema de arquivos tmpfs. Ele é apoiado apenas pelo armazenamento RAM no sistema host.</p>
<p>Essa funcionalidade só está disponível se você estiver executando o Docker no Linux.</p>
<p>Seguindo a ordem para criar um tmpfs é mais simples, já possui a própria flag --tmpfs:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>docker run -it --tmpfs<span class="o">=</span>/app ubuntu bash
</code></pre></div>
<img alt="tmpfs exemplo" loading="lazy" src="https://i.postimg.cc/PJXn922w/tmpfs.png" /></p>
<p>Perceba que a pasta app que criamos usando o --tmpfs, está com um fundo verde, assim como o tmp, então significa que ela é temporária, quando o contêiner for finalizado, os dados ali são apagados.</p>
<p>Então qual é a utilidade de usar o tmpfs? É que ela armazena os arquivos na memória do host e não na camada de escrita do contêineres r/w, ou seja, se existem dados sensíveis para serem armazenados no processo e por questões de segura não deseja escrever na camada de escrita do contêiner r/w, o tmpfs é recomendando nessa situação.</p>
<p>Para mais uma aplicação podemos usar como parâmetro do --mount:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>docker run -it --mount <span class="nv">type</span><span class="o">=</span>tmpfs,dst<span class="o">=</span>/teste ubuntu bash
</code></pre></div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Rodapé">
      
        
        <a href="../imagem/" class="md-footer__link md-footer__link--prev" aria-label="Anterior: Imagem" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Anterior
              </span>
              Imagem
            </div>
          </div>
        </a>
      
      
        
        <a href="../redes/" class="md-footer__link md-footer__link--next" aria-label="Próximo: Rede" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Próximo
              </span>
              Rede
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "content.tabs.link", "navigation.expand", "navigation.indexes", "navigation.sections", "navigation.tabs", "search.highlight", "search.share", "search.suggest", "toc.follow"], "translations": {"clipboard.copy": "Copiar para \u00e1rea de Transfer\u00eancia", "clipboard.copied": "Copiado para \u00e1rea de Transfer\u00eancia", "search.config.lang": "pt", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Buscar", "search.result.placeholder": "Digite para iniciar a busca", "search.result.none": "Nenhum documento encontrado", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Perdido", "select.version.title": "Selecione a vers\u00e3o"}, "search": "../../assets/javascripts/workers/search.bd0b6b67.min.js"}</script>
    
    
      <script src="../../assets/javascripts/bundle.8aa65030.min.js"></script>
      
    
  </body>
</html>